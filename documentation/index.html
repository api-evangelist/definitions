---
layout: default
---
<script type="text/javascript">

  function showme($id)
    {
    if(document.getElementById($id).style.display=='none')
      {
      document.getElementById($id).style.display = '';
      }
    else
      {
      document.getElementById($id).style.display = 'none';
      }
    }

   function getRequest($slug,$path,$url)
    {

    $api_url = $url + $path;

    document.getElementById($slug+'-loading').style.display = '';

    console.log('headers:');
    var elements = document.getElementById($slug+'-headers').elements;
    $headers = '';
    for (var i = 0, element; element = elements[i++];) {
        if (element.type === "text")
          {
          console.log(element.type + ' - ' + element.name);
          $headers = $headers + element.name + ': ' + element.value + ',';
        }
      }
    $headers = $headers.substring(1, $headers.length-1);

    var path_elements = document.getElementById($slug+'-path').elements;
    for(var i = 0, element; element = path_elements[i++];)
      {
        if(element.type === "text")
          {
          if(element.value!='')
            {
            $replace_string = '{' + element.name + '}';
            $api_url = $api_url.replace($replace_string,element.value);
            }
          }
        }


    var param_elements = document.getElementById($slug+'-parameters').elements;
    $anyparams = 0;
    $query_string = '';
    for(var i = 0, element; element = param_elements[i++];)
      {
        if(element.type === "text")
          {
          if(element.value!='')
            {
            $query_string = $query_string + element.name + '=' + element.value;
            $anyparams = 1;
            }
          }
        }

    if(elements.length > 0 && $anyparams == 1){ $api_url = $api_url + '?' + $query_string; }

    console.log("loading: " + $api_url);

    var response = $.ajax({
       url: $api_url,
       method: "get",
       headers: {$headers},
       success:function(response){

          document.getElementById($slug+'-loading').style.display = 'none';

          $viewer = JSON.stringify(response, null, 2);
          //console.log($viewer);
          $viewer = $viewer.replace(/\\"/g, '"');
          document.getElementById($slug+'-response').value = $viewer;
          document.getElementById($slug+'-response').style.width = "100%";
          document.getElementById($slug+'-response').style.height = "450px";

        },
        error: function(XMLHttpRequest, textStatus, errorThrown) {
            document.getElementById($slug+'-loading').style.display = 'none';
            $message = "Status: " + textStatus + "\nError: " + errorThrown;
            document.getElementById($slug+'-response').value = $$message;
            document.getElementById($slug+'-response').style.width = "100%";
            document.getElementById($slug+'-response').style.height = "50px";
        }
      });

    }
</script>

{% assign apijson = site.data.apis %}
{% assign definitions = apijson.definitions %}

<h2><strong>API Documentation</strong></h2>
<p>{{ apijson.description }}</p>
<p>I BROKE THIS---STILL WORKING ON - 12345!</p>
{% assign api_action_url = '' %}
{% assign numberofapis = apijson.apis | size %}

{% for api in apijson.apis %}

  {% assign openapi_spec_json = '' %}

  {% for property in api.properties %}

    {% if property.type == 'x-openapi' %}
      {% assign this_url = property.url %}
      {% assign this_url = this_url | replace: {{ site.raw_url }},'' %}
      {% assign this_url = this_url | replace: '.json','' %}
      {% assign this_url = this_url | replace: '-','' %}
      {% assign thisobject = this_url | replace: '/','.' %}
      {% assign thisobject = this_url | replace: '.apis.','' %}
      thisobject: {{ thisobject}}<br />
      {% assign openapi_spec_json = site.data[thisobject] %}
      openapi_spec_json: {{ openapi_spec_json }}
    {% endif %}

  {% endfor %}

{% endfor %}
